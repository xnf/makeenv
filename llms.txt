# makeenv

> Generate .env files from JSON, YAML, or TOML templates. Perfect for CI/CD pipelines.

## Usage

```bash
npx makeenv <template-file> [output-file]
npx makeenv <template-file> --dry-run
npx makeenv --generate [env-file] <output-template>
npx makeenv --set-defaults <template-file>
```

## Options

- `--dry-run`: Validate template without generating output file
- `--generate`: Create template from existing .env file (non-empty values marked required)
- `--set-defaults`: Update template with current resolved values as defaults

## Template Format

Each variable in the template has these properties:
- `required` (boolean): Fail if value is missing
- `source` ("string" | "env" | "AwsSecretManager"): Value source type
- `value` (string): The value, env var name, or SecretId/Key to read
- `default` (string): Fallback if not found

## Source Types

- `string`: Use value directly as the variable value
- `env`: Read from environment variable
- `AwsSecretManager`: Read from AWS Secrets Manager (value format: "SecretId/Key")

## Example (YAML)

```yaml
AWS_REGION:
  required: true
  source: string
  value: eu-north-1
AWS_ACCESS_KEY_ID:
  required: true
  source: env
  value: AWS_ACCESS_KEY_ID
DB_HOST:
  required: true
  source: AwsSecretManager
  value: prod/DB_HOST
OPTIONAL_FEATURE:
  required: false
  source: env
  value: FEATURE_FLAG
  default: "disabled"
```

## Supported Formats

- JSON (.json)
- YAML (.yaml, .yml)
- TOML (.toml, .tml)
